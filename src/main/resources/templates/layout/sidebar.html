<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sidebar Navigation</title>

    <!-- Remix Icons CDN (Alternative to Font Awesome) -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">

    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <div th:fragment="sidebar">
        <aside class="bg-black text-gray-300 w-60 h-screen p-4 fixed top-16 left-0">
            <nav>
                <ul>
                    <li class="mb-2">
                        <a th:href="@{/userDash}" class="flex items-center gap-3 p-2 rounded cursor-pointer w-full"
                            th:classappend="${currentPage == 'userDash' or currentPage == 'dash' ? 'bg-gray-700 text-white font-bold' : 'hover:bg-gray-600'}">
                            <i class="ri-user-fill text-teal-500"></i> My Profile
                        </a>
                    </li>

                    <li class="mb-2">
                        <a th:href="@{/company-management}" class="flex items-center gap-3 p-2 rounded cursor-pointer w-full"
                            th:classappend="${currentPage == 'company-management' ? 'bg-gray-700 text-white font-bold' : 'hover:bg-gray-600'}">
                            <i class="ri-building-4-line text-gray-400"></i> Company Management
                        </a>
                    </li>

                    <li class="mb-2">
                        <a th:href="@{/user-management}" class="flex items-center gap-3 p-2 rounded cursor-pointer w-full"
                            th:classappend="${currentPage == 'user-management' ? 'bg-gray-700 text-white font-bold' : 'hover:bg-gray-600'}">
                            <i class="ri-user-settings-line text-yellow-400"></i> User Management
                        </a>
                    </li>

                    <li class="mb-2">
                        <a th:href="@{/template-management}" class="flex items-center gap-3 p-2 rounded cursor-pointer w-full"
                            th:classappend="${currentPage == 'template-management' ? 'bg-gray-700 text-white font-bold' : 'hover:bg-gray-600'}">
                            <i class="ri-file-text-line text-gray-400"></i> Template Management
                        </a>
                    </li>

                    <li class="mb-2">
                        <a th:href="@{/file-management}" class="flex items-center gap-3 p-2 rounded cursor-pointer w-full"
                            th:classappend="${currentPage == 'file-management' ? 'bg-gray-700 text-white font-bold' : 'hover:bg-gray-600'}">
                            <i class="ri-folder-line text-gray-400"></i> File Management
                        </a>
                    </li>

                    <li class="mb-2">
                        <a th:href="@{/analytics}" class="flex items-center gap-3 p-2 rounded cursor-pointer w-full"
                            th:classappend="${currentPage == 'analytics' ? 'bg-gray-700 text-white font-bold' : 'hover:bg-gray-600'}">
                            <i class="ri-bar-chart-line text-green-400"></i> Analytics
                        </a>
                    </li>

                    <li class="mb-2">
                        <a th:href="@{/configuration}" class="flex items-center gap-3 p-2 rounded cursor-pointer w-full"
                            th:classappend="${currentPage == 'configuration' ? 'bg-gray-700 text-white font-bold' : 'hover:bg-gray-600'}">
                            <i class="ri-settings-3-line text-gray-400"></i> Configuration
                        </a>
                    </li>

                    <li class="mb-2">
                        <a th:href="@{/feedback}" class="flex items-center gap-3 p-2 rounded cursor-pointer w-full"
                            th:classappend="${currentPage == 'feedback' ? 'bg-gray-700 text-white font-bold' : 'hover:bg-gray-600'}">
                            <i class="ri-feedback-line text-gray-400"></i> Feedback
                        </a>
                    </li>

                    <li class="mb-2">
                        <a th:href="@{/logout}" class="flex items-center gap-3 p-2 rounded cursor-pointer w-full"
                            th:classappend="${currentPage == 'logout' ? 'bg-gray-700 text-white font-bold' : 'hover:bg-gray-600'}">
                            <i class="ri-logout-circle-line text-blue-400"></i> Logout
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>
    </div>

    <style>
        .rotate-180 {
            transform: rotate(180deg);
            transition: transform 0.3s ease;
        }
    </style>

</body>

</html>
<div th:fragment="sidebar">
    <aside class="bg-gray-800 text-white w-48 h-screen p-4 fixed">
        <h2 class="text-lg font-bold mb-4">Menu</h2>
        <nav>
            <ul>
                <li class="mb-2 relative border-b border-gray-600">
                    <a href="#" class="block p-2 hover:bg-gray-700" onclick="toggleDropdown(event, 'profileDropdown')">
                        My Profile
                    </a>
                    <ul id="profileDropdown" class="w-full bg-gray-700 text-white shadow-lg rounded hidden">
                        <li><a href="#" class="block px-4 py-2 hover:bg-blue-500">View Profile</a></li>
                        <li><a href="#" class="block px-4 py-2 hover:bg-blue-700">Edit Profile</a></li>
                    </ul>
                </li>
                <li class="mb-2 relative border-b border-gray-600">
                    <a href="#" class="block p-2 hover:bg-gray-700" onclick="toggleDropdown(event, 'projectDropdown')">
                        My Project
                    </a>
                    <ul id="projectDropdown" class="w-full bg-gray-700 text-white shadow-lg rounded hidden">
                        <li><a href="#" class="block px-4 py-2 hover:bg-blue-500">Project List</a></li>
                        <li><a href="#" class="block px-4 py-2 hover:bg-blue-500">New Project</a></li>
                    </ul>
                </li>
                <li class="mb-2 border-b border-gray-600">
                    <a href="#" class="block p-2 hover:bg-gray-700">Dashboard</a>
                </li>
                <li class="mb-2 border-b border-gray-600">
                    <a href="#" class="block p-2 hover:bg-gray-700">Feedback</a>
                </li>
                <li class="mt-4">
                    <a href="/logout" class="block p-2 bg-red-600 text-white rounded text-center hover:bg-red-700">
                        Logout
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- JavaScript for Dropdown Toggle -->
    <script>
        function toggleDropdown(event, dropdownId) {
            event.preventDefault();
            event.stopPropagation();

            // Close all dropdowns except the clicked one
            document.querySelectorAll("ul.hidden").forEach(menu => {
                if (menu.id !== dropdownId) {
                    menu.classList.add("hidden");
                }
            });

            // Toggle clicked dropdown
            document.getElementById(dropdownId).classList.toggle("hidden");
        }

        // Close dropdowns when clicking outside
        document.addEventListener("click", function () {
            document.querySelectorAll("ul.hidden").forEach(menu => menu.classList.add("hidden"));
        });
    </script>
</div>
